\documentclass[12pt, a4paper, twoside, onecolumn]{article}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{mathptmx}

%% Sets page size and margins
\usepackage[a4paper,top=2cm,bottom=1.6cm,left=1.8cm,right=1.8cm,marginparwidth=2cm]{geometry}

%% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{pgfgantt}
\usepackage{url}
\usepackage{xparse}
\usepackage{listings}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}
\usepackage{caption}
\usepackage{lscape}
\usepackage{enumitem}

\hypersetup{
    colorlinks = false
}

%% Section Numbering
%\setcounter{secnumdepth}{0} % no sections will be numbered
%\setcounter{secnumdepth}{1} % only sections will be numbered
%\setcounter{secnumdepth}{2} % sections and subsections will be numbered
%\setcounter{secnumdepth}{3} % sections, subsections and subsubsections will be numbered

%% TrueType font for code. use \codeword{} around sections of code in your document
\NewDocumentCommand{\codeword}{v}{
  \texttt{\textcolor{black}{#1}}
}

% You may want to use \vspace{-1cm} at times to change vertical spacing in a slightly hacky but functional way

\title{CS351 Computer Systems Engineering Project \\ \vspace{0.5cm} Network Switch Design on Field-Programmable Gate Arrays \\ \vspace{0.3cm} \Large{Specification}}
\author{1611586}

\begin{document}

\input{titlepage}

\tableofcontents
\newpage

\section{Glossary}
\label{glossary}
The following acronyms are used throughout the specification:
\begin{itemize}
  \item \textbf{FPGA}: Field-Programmable Gate Array
  \item \textbf{ASIC}: Application-Specific Integrated Circuit
  \item \textbf{LUT}: Look-Up Table
\end{itemize}

\section{Problem Statement}
\label{problem_statement}
Networking is an important area of Computing, and as network sizes and average complexity of projects have increased,
the need for network connections with very low latency has also increased.

Using FPGAs to conduct switching logic can result in a switch with a very high throughput, since this switching logic will be implemented in hardware. The look-up tables (LUTs) on an FPGA can be used to store MAC addresses, allowing an FPGA based switch to theoretically determine the appropriate port to direct a packet to in a single clock cycle. Unlike ASICs, FPGAs are also able to be reconfigured on the fly, so MAC address tables can dynamically updated while still being implemented in hardware.
For all of these reasons, FPGA-based network switches should be able to be used to create networks with a much higher throughput than traditional networking hardware, and investigation into FPGA-based switches may reveal further opportunity for other FPGA-based networking hardware, such as routers or firewalls.
% TODO more intro

The NetFPGA \cite{NetFPGA} platform is intended to be used for this project. The NetFPGA is an ``open source hardware and software platform designed for research and teaching'' \cite{NetFPGA_about}. Of the four hardware plaforms available, the NetFPGA 1G \cite{NetFPGA_1G} is the most suitable for this project. The NetFPGA 1G is based around a \textit{Xilinx Virtex-II Pro 50} \cite{virtex2-pro} which contains 53,136 logic cells and 4kb block RAM. In addition, the NetFPGA 1G contains four Gigabit Ethernet networking ports, 4.5MB of SRAM, and 64MB of DDR2 DRAM. It has a standard PCI form factor, and so is compatible with most consumer motherboards.
% Explain more background

% TODO what are MAC addresses

% TODO what is conventional networking like. What's the current problem



% TODO REsearch implementation testing comparison
% TODO objectives first
% TODO then to help with objectives, here's requirements


% TODO What's MoSCoW
% TODO sounds like i'm doubting myself at this stage based on the research that has been completed, a reasonable route is as follow. However this may change over the course odf the project

% TODO describe what you're actually making ie what is the system

\section{Requirements}
\label{requirements}
In order to measure the success of this project and to clearly define the work to be done, the following requirements have been written. These requirements are subject to change over the course of the project, and are more intended to lay out one available route that the project could take rather than serve to restrict the bounds of the project. They have been written using the MoSCoW method.

\subsection{Functional Requirements}
\label{functional_requirements}

These requirements define the technical detail of the system produced over the course of the project, as well as the data to be analysed for the final report.
\begin{enumerate}[label=\textbf{F\arabic*:}]
  \item The system \textbf{must} be able to analyse packets at layer 2 of the OSI network model
  \item The system \textbf{must} be able to send packets to the correct port based on MAC addresses
  \item The system \textbf{must} be able to store MAC address tables
  \item The system \textbf{must} be able to keep MAC address tables up to date
  \item The average latency of the system \textbf{must} be measured
  \item The throughput of the system \textbf{must} be measured
  \item The system \textbf{should} be able to analyse packets at layer 3 of the OSI network model
  \item The system \textbf{could} be able to analyse packets at layer 7 of the OSI network model
  \item The system \textbf{could} be able to detect basic network attacks (such as SYN Flooding \cite{rfc4987})
  \item The system \textbf{could} implement features of a basic firewall (such as packet filtering \cite{rfc2979})
\end{enumerate}

\subsection{Non-Functional Requirements}
\label{non_functional_requirements}
\begin{enumerate}[label=\textbf{NF\arabic*:}]
  \item The system \textbf{should} be scalable
  \item All code for the system \textbf{should} be well documented and maintainable
  \item The system \textbf{should} be efficient
\end{enumerate}

\section{Objectives}
\label{objectives}

\begin{itemize}
  \item Research networking concepts (such as the OSI network model)
  \item Research the NetFPGA platform \cite{NetFPGA}
  \item Research the packet switching language P4 \cite{P4}
  \item Implement a packet analyser on a NetFPGA
  \item Implement a packet switcher on a NetFPGA
  \item Test throughput and latency of switching packets using the NetFPGA packet switcher
  \item Test throughput and latency of switching packets using a conventional network switch
  \item Compare performance of NetFPGA packet switcher to conventional network switch
  \item Write up performance comparison
\end{itemize}

\section{Project Management}
\label{project_management}

\subsection{Methods}
\label{methods}
This project will use an agile methodology so that it can adapt to changes which arise during the project. Since the research and implementation stages of the project will contribute to confirming the direction the project will take, this flexibilty is important. In addition, git \cite{git} will be used to track changes in both written documents and any code developed for the project, such as any P4 or Verilog code. Repositories will be set up in git for the different areas of the project, and these repositories will be stored primarily on an online GitHub \cite{github} server and will be backed up regularly. A Gantt chart (shown in figure \ref{gantt_chart}) has been constructed to show an outline of the project timetable, and is intended to be flexible to changes arising during the course of the project.

\subsection{Timetable}
\label{timetable}

\begin{landscape}
\begin{figure}
  \begin{center}
  \begin{ganttchart}[hgrid, vgrid]{1}{32}
    \gantttitle{Term 1}{10}
    \gantttitle{Christmas}{4}
    \gantttitle{Term 2}{10}
    \gantttitle{Easter}{5}
    \gantttitle{Term 3}{3} \\
    \gantttitlelist{1,...,10}{1}
    \gantttitlelist{1,...,4}{1}
    \gantttitlelist{1,...,10}{1}
    \gantttitlelist{1,...,5}{1}
    \gantttitlelist{1,...,3}{1} \\
    % \ganttgroup{Initial Research}{2}{7} \\
    \ganttbar[name=write_spec]{Write Specification}{1}{2} \\
    \ganttmilestone[name=submit_spec]{Submit Specification}{2} \\
    \ganttbar[name=r_network]{Research Networking Concepts}{3}{3} \\
    \ganttbar[name=r_netfpga]{Research NetFPGA}{4}{4} \\
    \ganttbar[name=r_p4]{Research P4}{5}{6} \\
    \ganttbar[name=write_prog]{Write Progress Report}{7}{9} \\
    \ganttmilestone[name=submit_prog]{Submit Progress Report}{9} \\
    \ganttbar[name=implement_pa]{Implement a Packet analyser on NetFPGA}{10}{16} \\
    \ganttbar[name=implement_ps]{Implement a Packet Switcher on NetFPGA}{17}{20} \\
    \ganttbar[name=compare_speed]{Compare latency of NetFPGA switch with conventional switch}{21}{21} \\
    \ganttbar[name=prep_presentation]{Prepare Presentation}{22}{23} \\
    \ganttmilestone[name=presentation]{Presentation}{23} \\
    \ganttbar[name=write_final]{Write Final Report}{24}{31} \\
    \ganttmilestone[name=submit_final]{Submit Final Report}{31} \\
    \ganttlink{write_spec}{submit_spec}
    \ganttlink{submit_spec}{r_network}
    \ganttlink{r_network}{r_netfpga}
    \ganttlink{r_netfpga}{r_p4}
    \ganttlink{r_p4}{write_prog}
    \ganttlink{write_prog}{submit_prog}
    \ganttlink{submit_prog}{implement_pa}
    \ganttlink{implement_pa}{implement_ps}
    \ganttlink{implement_ps}{compare_speed}
    \ganttlink{compare_speed}{prep_presentation}
    \ganttlink{prep_presentation}{presentation}
    \ganttlink{presentation}{write_final}
    \ganttlink{write_final}{submit_final}
  \end{ganttchart}
  \caption{Gantt Chart of Project Timetable}
  \label{gantt_chart}
\end{center}
\end{figure}
\end{landscape}


\section{Resources}
\label{resources}
This project will use a number of different resources, including hardware, software, and languages. These are listed below.
\begin{itemize}
  \item git \cite{git}
    \begin{itemize}
      \item git will be used for version control of all code and documents
    \end{itemize}
  \item GitHub \cite{github}
    \begin{itemize}
      \item Will be used as an external server to store code and documents, as well as an interface to git
    \end{itemize}
  \item NetFPGA \cite{NetFPGA}
    \begin{itemize}
      \item Will be used as the platform on which a switch is developed
    \end{itemize}
  \item P4 \cite{P4}
    \begin{itemize}
      \item Will be used to implement packet switching on the NetFPGA
    \end{itemize}
  \item LaTeX \cite{latex}
    \begin{itemize}
      \item Will be used to write and format all documents
    \end{itemize}
  \item Atom \cite{atom}
    \begin{itemize}
      \item Will be used as an editor to write code
    \end{itemize}
\end{itemize}


\bibliographystyle{ieeetr}
\bibliography{bibliography}

\end{document}
